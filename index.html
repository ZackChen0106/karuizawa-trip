<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>2026 初春 · 輕井澤</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <link rel="stylesheet" href="style.css" />
  <link rel="manifest" href="manifest.json" />
</head>

<body data-page="home">
  <div class="app">

    <!-- Hero -->
    <div class="hero" id="hero">
      <div class="heroContent">
        <h1 class="heroTitle" id="heroTitle">2026 初春 · 輕井澤</h1>
        <p class="heroSub" id="heroSub">慢慢走，把時間留給彼此</p>
        <div class="pillRow">
          <span class="pill" id="pillDay">計算中…</span>
          <span class="pill" id="pillLoc">📍 輕井澤</span>
        </div>
      </div>
    </div>

    <!-- Pages -->
    <div class="pages">

      <!-- Home -->
      <section class="page active" data-page="home">
        <div class="main">
          <div class="card">
            <div class="cardHeader">
              <h2 class="cardTitle">TODAY</h2>
            </div>
            <div class="bigRow">
              <div>
                <p class="bigText" id="todayMain">出發前｜準備就緒</p>
                <p class="subText" id="todayNote">確認證件與行李</p>
              </div>
              <div class="arrowBtn">›</div>
            </div>
          </div>
        </div>
      </section>

      <!-- Flight -->
      <section class="page" data-page="flight">
        <div class="pageWrap">
          <h2 class="pageTitle">✈️ 機票</h2>
          <div class="card"><div class="subText">機票資訊</div></div>
        </div>
      </section>

      <!-- Itinerary（你的原始資料 그대로） -->
      <section class="page" data-page="itinerary">
        <div class="pageWrap">
          <h2 class="pageTitle">🗺️ 行程</h2>

          <div class="card">
            <div class="cardHeader">
              <h3 class="cardTitle">DAY 1｜02/21</h3>
              <span class="cardHint">桃園 → 輕井澤</span>
            </div>
            <div class="subText">06:40 桃園起飛 → 10:40 成田 → 下午前往輕井澤</div>
          </div>

          <div class="card">
            <div class="cardHeader">
              <h3 class="cardTitle">DAY 2｜02/22</h3>
              <span class="cardHint">輕井澤</span>
            </div>
            <div class="subText">雲場池、舊輕井澤、Outlet</div>
          </div>

          <div class="card">
            <div class="cardHeader">
              <h3 class="cardTitle">DAY 3｜02/23</h3>
              <span class="cardHint">輕井澤 → 東京</span>
            </div>
            <div class="subText">上午 Check-out → 下午抵達東京</div>
          </div>

          <div class="card">
            <div class="cardHeader">
              <h3 class="cardTitle">DAY 4｜02/24</h3>
              <span class="cardHint">東京市區</span>
            </div>
            <div class="subText">澀谷、表參道、居酒屋</div>
          </div>

          <div class="card">
            <div class="cardHeader">
              <h3 class="cardTitle">DAY 5｜02/25</h3>
              <span class="cardHint">東京 → 桃園</span>
            </div>
            <div class="subText">18:25 成田起飛 → 21:50 抵達桃園</div>
          </div>
        </div>
      </section>

      <!-- Hotel -->
      <section class="page" data-page="hotel">
        <div class="pageWrap">
          <h2 class="pageTitle">🏡 住宿</h2>
          <div class="card"><div class="subText">住宿資訊</div></div>
        </div>
      </section>

      <!-- Packing -->
      <section class="page" data-page="packing">
        <div class="pageWrap">
          <h2 class="pageTitle">🎒 行李</h2>
          <div class="card"><div class="subText">行李清單</div></div>
        </div>
      </section>

    </div>

    <!-- Tab Bar -->
    <nav class="tabbar">
      <a data-tab="home" class="active">🏠 首頁</a>
      <a data-tab="flight">✈️ 機票</a>
      <a data-tab="itinerary">🗺️ 行程</a>
      <a data-tab="hotel">🏡 住宿</a>
      <a data-tab="packing">🎒 行李</a>
    </nav>

  </div>

  <script>
    /* ===== 距離出發（台灣時區，穩定） ===== */
    const pillDay = document.getElementById('pillDay');
    const startDate = '2026-02-21';

    function updateCountdown() {
      const todayTW = new Date(
        new Date().toLocaleDateString('zh-TW', { timeZone: 'Asia/Taipei' })
      );
      const departTW = new Date(startDate);
      const diff = Math.round((departTW - todayTW) / 86400000);
      pillDay.textContent =
        diff >= 0 ? `距離出發 ${diff} 天` : '旅程進行中';
    }
    updateCountdown();

    /* ===== TODAY（同一套邏輯） ===== */
    const todayMain = document.getElementById('todayMain');
    const todayNote = document.getElementById('todayNote');

    function updateToday() {
      const todayTW = new Date(
        new Date().toLocaleDateString('zh-TW', { timeZone: 'Asia/Taipei' })
      );
      const departTW = new Date(startDate);
      const diff = Math.round((todayTW - departTW) / 86400000);

      if (diff < 0) {
        todayMain.textContent = '出發前｜準備就緒';
        todayNote.textContent = '確認證件與行李';
      } else {
        todayMain.textContent = `旅程中｜Day ${diff + 1}`;
        todayNote.textContent = '依行程前進';
      }
    }
    updateToday();

    /* ===== Hero（只信 body[data-page]） ===== */
    const hero = document.getElementById('hero');
    const heroTitle = document.getElementById('heroTitle');
    const heroSub = document.getElementById('heroSub');
    const pillLoc = document.getElementById('pillLoc');

    function syncHero() {
      const page = document.body.dataset.page;
      if (page === 'itinerary') {
        hero.style.backgroundImage = "url('./assets/hero-tokyo.jpg')";
        heroTitle.textContent = '2026 初春 · 東京';
        heroSub.textContent = '城市節奏，慢慢探索';
        pillLoc.textContent = '📍 東京';
      } else {
        hero.style.backgroundImage = "url('./assets/hero-karuizawa.jpg')";
        heroTitle.textContent = '2026 初春 · 輕井澤';
        heroSub.textContent = '慢慢走，把時間留給彼此';
        pillLoc.textContent = '📍 輕井澤';
      }
    }

    /* app.js 切頁後一定會改 body[data-page] */
    const observer = new MutationObserver(syncHero);
    observer.observe(document.body, { attributes: true });

    syncHero();
  </script>

  <script src="app.js"></script>
</body>
</html>
