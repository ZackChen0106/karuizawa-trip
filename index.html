<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>2026 初春 · 輕井澤 · 東京</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <link rel="stylesheet" href="style.css?v=hero-fixed" />
  <link rel="manifest" href="manifest.json" />
</head>

<body data-page="home">
<div class="app">

  <!-- Hero -->
  <div class="hero" id="hero" style="background-image:url('./hero.jpg')">
    <div class="heroContent">
      <h1 class="heroTitle">2026 初春 · 輕井澤 · 東京</h1>
      <p class="heroSub">慢慢走，把時間留給彼此</p>
      <div class="pillRow">
        <span class="pill" id="pillDay">計算中…</span>
        <span class="pill">🇯🇵 日本</span>
      </div>
    </div>
  </div>

  <!-- Pages -->
  <div class="pages">

    <!-- Home -->
    <section class="page active" data-page="home">
      <div class="main">

        <div class="card" id="todayCard" style="cursor:pointer">
          <div class="cardHeader">
            <h2 class="cardTitle">TODAY</h2>
            <span class="cardHint">點一下看今日行程</span>
          </div>
          <p class="bigText" id="todayMain"></p>
          <p class="subText" id="todayRoute"></p>
          <p class="subText" id="todayNote"></p>
        </div>

        <div class="card" id="weatherCard">
          <div class="cardHeader">
            <h2 class="cardTitle" id="weatherCity">—</h2>
            <span class="cardHint" id="weatherDesc">—</span>
          </div>
          <div style="display:flex;align-items:flex-end;gap:12px;">
            <div style="font-size:40px;font-weight:700;" id="weatherTemp">—°</div>
            <div class="subText" id="weatherRange">—</div>
          </div>
        </div>

      </div>
    </section>

    <!-- Flight -->
    <section class="page" data-page="flight">
      <div class="pageWrap">
        <h2 class="pageTitle">✈️ 機票</h2>

        <div class="card">
          <h3 class="cardTitle">🛫 去程｜2026 / 02 / 21</h3>
          <p class="subText">酷航 TR898</p>
          <p class="subText">06:40 桃園機場 → 10:40 成田機場</p>
          <p class="subText">訂位代號：<strong>H78HXF</strong></p>
        </div>

        <div class="card">
          <h3 class="cardTitle">🛬 回程｜2026 / 02 / 25</h3>
          <p class="subText">虎航 IT203</p>
          <p class="subText">18:25 成田機場 → 21:50 桃園機場</p>
          <p class="subText">訂位代號：<strong>SEUY8R</strong></p>
        </div>

        <div class="card">
          <h3 class="cardTitle">🎒 行李規定</h3>
          <p class="subText">個人物品：40 × 30 × 10 cm（1 件）</p>
          <p class="subText">手提行李：10 kg｜54 × 38 × 23 cm（1 件）</p>
          <p class="subText">托運行李：25 kg｜尺寸總和 ≤ 158 cm</p>
        </div>

        <div class="card">
          <h3 class="cardTitle">👨‍👩‍👧‍👦 成員</h3>
          <p class="subText">CHEN JOUJOU｜351421829</p>
          <p class="subText">HUANG HSUEHWEN｜364399760</p>
          <p class="subText">WEI JIAWUN｜369037617</p>
          <p class="subText">CHEN KUOHSUAN｜351812837</p>
        </div>
      </div>
    </section>

    <!-- Itinerary -->
<section class="page" data-page="itinerary">
  <div class="pageWrap">
    <h2 class="pageTitle">🗺️ 行程</h2>

    <!-- Day Tabs（橫向切換） -->
    <div class="dayTabs" style="
      display:flex;
      gap:8px;
      overflow-x:auto;
      padding-bottom:8px;
      margin-bottom:8px;
      -webkit-overflow-scrolling:touch;
    ">
      <button class="pill" data-day="0">Day 1｜輕井澤</button>
      <button class="pill" data-day="1">Day 2｜輕井澤</button>
      <button class="pill" data-day="2">Day 3｜輕井澤 → 東京</button>
      <button class="pill" data-day="3">Day 4｜東京</button>
      <button class="pill" data-day="4">Day 5｜返程</button>
    </div>

    <!-- 行程內容容器 -->
    <div class="card">

<!-- Day 1（改為 JS render） -->
<div class="dayPanel" data-day="0" id="day1Panel">
  <!-- JS 會把內容塞進來 -->
</div>


      <!-- Day 2 -->
      <div class="dayPanel" data-day="1" style="display:none;">
        <h3 class="cardTitle">Day 2｜輕井澤</h3>

        <div class="itItem">
          <strong>上午</strong>
          <div>
            <p class="subText">雲場池、舊輕井澤商店街</p>
          </div>
        </div>

        <div class="itItem">
          <strong>下午</strong>
          <div>
            <p class="subText">自由活動 / 咖啡 / 休息</p>
          </div>
        </div>
      </div>

      <!-- Day 3 -->
<div class="dayPanel is-move-day" data-day="2" style="display:none;">
        <h3 class="cardTitle">Day 3｜輕井澤 → 東京</h3>

        <div class="itItem">
          <strong>上午</strong>
          <div>
            <p class="subText">退房、移動至東京</p>
          </div>
        </div>

        <div class="itItem">
          <strong>下午</strong>
          <div>
            <p class="subText">東京市區 Check-in</p>
          </div>
        </div>
      </div>

      <!-- Day 4 -->
      <div class="dayPanel" data-day="3" style="display:none;">
        <h3 class="cardTitle">Day 4｜東京</h3>

        <div class="itItem">
          <strong>全天</strong>
          <div>
            <p class="subText">東京市區行程（上野 / 淺草 / 其他）</p>
          </div>
        </div>
      </div>

      <!-- Day 5 -->
      <div class="dayPanel" data-day="4" style="display:none;">
        <h3 class="cardTitle">Day 5｜返程</h3>

        <div class="itItem">
          <strong>18:25</strong>
          <div>
            <p class="subText">成田機場起飛（IT203）</p>
            <p class="subText">21:50 抵達桃園</p>
          </div>
        </div>
      </div>

    </div>

  </div>
</section>



 <!-- Hotel（已優化） -->
<section class="page" data-page="hotel">
  <div class="pageWrap">
    <h2 class="pageTitle">🏡 住宿</h2>

    <!-- 輕井澤 -->
    <div class="card" style="
      padding:0;
      overflow:hidden;
      background:#000;
    ">
      <div style="
        position:relative;
        height:320px;
        background-image:url('./karuhotel.jpg');
        background-size:cover;
        background-position:center;
      ">
        <!-- 深色漸層 -->
        <div style="
          position:absolute;
          inset:0;
          background:linear-gradient(
            to top,
            rgba(0,0,0,0.85),
            rgba(0,0,0,0.45),
            rgba(0,0,0,0.15)
          );
        "></div>

        <!-- 內容疊加 -->
        <div style="
          position:absolute;
          inset:0;
          padding:20px;
          display:flex;
          flex-direction:column;
          justify-content:flex-end;
          color:#fff;
        ">
          <h3 style="margin:0 0 6px 0;font-size:22px;">
            🌲 輕井澤渴望之家飯店
          </h3>

          <div style="display:flex;gap:8px;flex-wrap:wrap;margin-bottom:10px;">
            <span class="pill">02/21 – 02/23</span>
            <span class="pill">Karuizawa · Nagano</span>
          </div>

          <div style="display:flex;gap:8px;flex-wrap:wrap;">
            <a class="pill" href="https://maps.app.goo.gl/jKoU5XM4k2mNN3MA8" target="_blank">
              🧭 導航
            </a>
            <span class="pill">🛏 兩間雙人房</span>
            <span class="pill">☎️ +81 267-42-7355</span>
          </div>
        </div>
      </div>
    </div>

    <!-- 東京 -->
    <div class="card" style="
      padding:0;
      overflow:hidden;
      background:#000;
    ">
      <div style="
        position:relative;
        height:320px;
        background-image:url('./apretonhotel.jpg');
        background-size:cover;
        background-position:center;
      ">
        <!-- 深色漸層 -->
        <div style="
          position:absolute;
          inset:0;
          background:linear-gradient(
            to top,
            rgba(0,0,0,0.85),
            rgba(0,0,0,0.45),
            rgba(0,0,0,0.15)
          );
        "></div>

        <!-- 內容疊加 -->
        <div style="
          position:absolute;
          inset:0;
          padding:20px;
          display:flex;
          flex-direction:column;
          justify-content:flex-end;
          color:#fff;
        ">
          <h3 style="margin:0 0 6px 0;font-size:22px;">
            🏙️ Hotel Apreton（上野）
          </h3>

          <div style="display:flex;gap:8px;flex-wrap:wrap;margin-bottom:10px;">
            <span class="pill">02/23 – 02/25</span>
            <span class="pill">Tokyo · Ueno</span>
          </div>

          <div style="display:flex;gap:8px;flex-wrap:wrap;">
            <a class="pill" href="https://maps.app.goo.gl/7sCP1PBgiBzV9PGv8" target="_blank">
              🧭 導航
            </a>
            <span class="pill">🛏 兩間雙人房</span>
            <span class="pill">☎️ +81 3-6284-2703</span>
          </div>
        </div>
      </div>
    </div>

  </div>
</section>






    <!-- Packing（完整行李清單） -->
    <section class="page" data-page="packing">
      <div class="pageWrap">
        <h2 class="pageTitle">🎒 行李清單</h2>

        <!-- 必備文件 -->
        <div class="card">
          <h3 class="cardTitle">🧳 必備文件</h3>
          <label class="checkItem"><input type="checkbox" /><span>護照（有效期限 6 個月以上）</span></label>
          <label class="checkItem"><input type="checkbox" /><span>機票 / 電子登機證</span></label>
          <label class="checkItem"><input type="checkbox" /><span>旅遊保險</span></label>
          <label class="checkItem"><input type="checkbox" /><span>信用卡 / 現金（日幣）</span></label>
          <label class="checkItem"><input type="checkbox" /><span>身分證（備用）</span></label>
        </div>

        <!-- 衣物 -->
        <div class="card">
          <h3 class="cardTitle">👕 衣物</h3>
          <label class="checkItem"><input type="checkbox" /><span>外套（防風 / 防寒）</span></label>
          <label class="checkItem"><input type="checkbox" /><span>厚上衣（毛衣 / 刷毛）</span></label>
          <label class="checkItem"><input type="checkbox" /><span>薄長袖（室內或疊穿）</span></label>
          <label class="checkItem"><input type="checkbox" /><span>長褲 × 2–3</span></label>
          <label class="checkItem"><input type="checkbox" /><span>睡衣</span></label>
          <label class="checkItem"><input type="checkbox" /><span>內衣褲（天數＋1）</span></label>
          <label class="checkItem"><input type="checkbox" /><span>襪子（厚襪建議）</span></label>
          <label class="checkItem"><input type="checkbox" /><span>圍巾 / 保暖配件</span></label>
        </div>

        <!-- 鞋子 -->
        <div class="card">
          <h3 class="cardTitle">👟 鞋子 / 行走用品</h3>
          <label class="checkItem"><input type="checkbox" /><span>好走的鞋（最重要）</span></label>
          <label class="checkItem"><input type="checkbox" /><span>備用鞋 / 室內拖鞋</span></label>
          <label class="checkItem"><input type="checkbox" /><span>鞋墊 / 足貼（走路多）</span></label>
        </div>

        <!-- 盥洗 -->
        <div class="card">
          <h3 class="cardTitle">🧴 盥洗 / 個人用品</h3>
          <label class="checkItem"><input type="checkbox" /><span>牙刷 / 牙膏</span></label>
          <label class="checkItem"><input type="checkbox" /><span>洗面乳 / 保養品</span></label>
          <label class="checkItem"><input type="checkbox" /><span>化妝品 / 卸妝用品</span></label>
          <label class="checkItem"><input type="checkbox" /><span>防曬（即使冬天）</span></label>
          <label class="checkItem"><input type="checkbox" /><span>護唇膏（天氣很乾）</span></label>
          <label class="checkItem"><input type="checkbox" /><span>乳液（天氣很乾）</span></label>
        </div>

        <!-- 藥品 -->
        <div class="card">
          <h3 class="cardTitle">💊 健康 / 藥品</h3>
          <label class="checkItem"><input type="checkbox" /><span>個人常備藥</span></label>
          <label class="checkItem"><input type="checkbox" /><span>感冒藥 / 止痛藥</span></label>
          <label class="checkItem"><input type="checkbox" /><span>暈車藥</span></label>
          <label class="checkItem"><input type="checkbox" /><span>OK 繃 / 小藥包</span></label>
          <label class="checkItem"><input type="checkbox" /><span>暖暖包（輕井澤推薦）</span></label>
        </div>

        <!-- 3C -->
        <div class="card">
          <h3 class="cardTitle">🔌 3C / 充電</h3>
          <label class="checkItem"><input type="checkbox" /><span>手機</span></label>
          <label class="checkItem"><input type="checkbox" /><span>行動電源</span></label>
          <label class="checkItem"><input type="checkbox" /><span>充電線</span></label>
          <label class="checkItem"><input type="checkbox" /><span>轉接頭（日本）</span></label>
          <label class="checkItem"><input type="checkbox" /><span>耳機</span></label>
          <label class="checkItem"><input type="checkbox" /><span>網卡</span></label>
        </div>

      </div>
    </section>

  </div>

  <!-- Tab Bar -->
  <nav class="tabbar">
    <a href="#home" data-tab="home" class="active">🏠 首頁</a>
    <a href="#flight" data-tab="flight">✈️ 機票</a>
    <a href="#itinerary" data-tab="itinerary">🗺️ 行程</a>
    <a href="#hotel" data-tab="hotel">🏡 住宿</a>
    <a href="#packing" data-tab="packing">🎒 行李</a>
  </nav>

</div>

<script src="app.js?v=hero-fixed"></script>

<script>
/**
 * Day Tabs 切換邏輯（Itinerary 專用）
 * - 點擊 Day Tab → 顯示對應 dayPanel
 * - 不影響其他 page / tabbar / app.js
 */
(function () {
  const itineraryPage = document.querySelector('.page[data-page="itinerary"]');
  if (!itineraryPage) return;

  const tabs = itineraryPage.querySelectorAll('.dayTabs .pill');
  const panels = itineraryPage.querySelectorAll('.dayPanel');

  function activateDay(dayIndex) {
    // Tabs 狀態
    tabs.forEach(tab => {
      tab.classList.toggle('active', tab.dataset.day === String(dayIndex));
    });

    // Panels 顯示
    panels.forEach(panel => {
      panel.style.display =
        panel.dataset.day === String(dayIndex) ? 'block' : 'none';
    });
  }

  // 綁定點擊事件
  tabs.forEach(tab => {
    tab.addEventListener('click', () => {
      activateDay(tab.dataset.day);
    });
  });

  // 預設顯示 Day 0（之後會被「自動跳日」覆蓋）
  activateDay(0);
  /************** 自動計算今天是第幾天 **************/
  const TRIP_START = new Date('2026-02-21T00:00:00');
  const TRIP_END   = new Date('2026-02-25T23:59:59');

window.getTodayDayIndex = function () {
  const TRIP_START = new Date('2026-02-21T00:00:00');
  const TRIP_END   = new Date('2026-02-25T23:59:59');
  const now = new Date();

  if (now < TRIP_START) return 0; // Day 1
  if (now > TRIP_END) return 4;   // Day 5

  const diffMs = now - TRIP_START;
  return Math.floor(diffMs / (1000 * 60 * 60 * 24));
};



  // 立刻覆蓋預設 Day
  activateDay(getTodayDayIndex());


})();

// 進入行程頁時，自動捲到目前 Day Tab
const itineraryTab = document.querySelector('[data-tab="itinerary"]');
if (itineraryTab) {
  itineraryTab.addEventListener('click', () => {
    setTimeout(() => {
      const activeDay = document.querySelector(
        '.page[data-page="itinerary"] .dayTabs .pill.active'
      );
      if (activeDay) {
        activeDay.scrollIntoView({
          behavior: 'smooth',
          inline: 'center',
          block: 'nearest'
        });
      }
    }, 120);
  });
}

/* ========= Day 1 資料 ========= */
const day1Data = {
  title: "Day 1｜台灣 → 日本 → 輕井澤",
  items: [
    {
      time: "06:40–10:40",
      texts: [
        "桃園機場 → 日本成田",
        "酷航 TR898"
      ]
    },
    {
      time: "11:30–12:30",
      texts: [
        "午餐",
        "成田機場或周邊用餐"
      ]
    },
    {
      time: "12:30–16:00",
      texts: [
        "前往輕井澤渴望之家飯店",
        "導航：https://maps.app.goo.gl/QeRiC9ZzpXiTtrTA9"
      ]
    },
    {
  time: "17:00–19:00",
  texts: [
    "輕井澤王子購物廣場",
    "[必買推薦]"
  ],
  buyList: [
    "Nike / Adidas（日本款、尺寸齊）",
    "Beams / United Arrows",
    "Francfranc",
    "Afternoon Tea Living",
    "Royce’ 巧克力",
    "白色戀人"
  ]
},

    {
      time: "19:00–21:00",
      texts: [
        "晚餐",
        "購物廣場內或飯店周邊，依體力決定"
      ]
    }
  ]
};


/* ========= Day 1 render ========= */
function renderDay1() {
  const panel = document.getElementById("day1Panel");
  if (!panel) return;

  let html = "";

  // 標題
  html += `<h3 class="cardTitle">${day1Data.title}</h3>`;

  // 每一個行程項目
day1Data.items.forEach(item => {
  html += `
    <div class="itItem" style="
      display:flex;
      gap:12px;
      align-items:flex-start;
      margin-bottom:20px;
    ">

      <!-- 時間（段落錨點） -->
      <div style="
        min-width:90px;
        font-weight:600;
        color:#fff;
        position:relative;
      ">
        <span style="
          display:block;
          padding-left:8px;
          border-left:3px solid rgba(255,255,255,.3);
        ">
          ${item.time}
        </span>
      </div>

      <!-- 主要內容 -->
      <div style="flex:1;">
        ${item.texts.map(t => {
          // 導航行為（不佔行）
          if (t.includes("http")) {
            return ``;
          }

          // 必買推薦（不佔主行）
          if (t === "[必買推薦]" && item.buyList) {
            return ``;
          }

          // 主內容 / 補充內容
          return `<p class="subText" style="margin:0 0 6px 0;">${t}</p>`;
        }).join("")}
      </div>

      <!-- 右側行為 -->
      <div style="
        min-width:36px;
        text-align:right;
        padding-top:4px;
      ">
        ${item.texts.map(t => {
          // 導航 icon
          if (t.includes("http")) {
            return `
              <a href="${t.replace("導航：", "")}"
                 target="_blank"
                 style="font-size:18px;text-decoration:none;">
                🧭
              </a>
            `;
          }

          // 必買推薦 icon（展開）
          if (t === "[必買推薦]" && item.buyList) {
            const id = `buy-${item.time.replace(/[:–]/g, "")}`;
            return `
              <span style="cursor:pointer;font-size:18px;"
                onclick="
                  const el = document.getElementById('${id}');
                  el.style.display = el.style.display === 'none' ? 'block' : 'none';
                ">
                🛍
              </span>
            `;
          }

          return ``;
        }).join("")}
      </div>

    </div>

    ${
      item.buyList
        ? `<div id="buy-${item.time.replace(/[:–]/g, "")}"
             style="display:none;padding-left:110px;margin-bottom:12px;">
             ${item.buyList.map(b => `<p class="subText">• ${b}</p>`).join("")}
           </div>`
        : ``
    }
  `;
});


  panel.innerHTML = html;
}

// 頁面載入後立刻執行
renderDay1();



</script>


</body>
</html>
